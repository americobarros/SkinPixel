(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{141:function(e,t,n){},142:function(e,t,n){},196:function(e,t,n){},197:function(e,t,n){},199:function(e,t,n){},210:function(e,t,n){},211:function(e,t,n){},320:function(e,t,n){},321:function(e,t,n){},322:function(e,t,n){},323:function(e,t,n){},324:function(e,t,n){},325:function(e,t,n){},326:function(e,t,n){},327:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(17),i=n.n(s),f=(n(141),n(11)),r=n(8),l=n(18),o=n(21),d=n(390),j=n(393),u=(n(196),n.p+"static/media/cat1.f51cc26d.PNG"),b=n.p+"static/media/cat2.8060ae1c.JPG",h=n.p+"static/media/cat3.8d417e2f.JPG",O=n.p+"static/media/cat4.7acb7b95.PNG",m=n.p+"static/media/cat5.88a877d1.PNG",x=n.p+"static/media/map1.0c2a7f3d.zip",p=n.p+"static/media/map2.571b542b.zip",g=n.p+"static/media/map1.d71ee0e1.jpg",v=n.p+"static/media/map2.f01d76cf.jpg",y={id:1,createdAt:0,name:"Hannah Brooks",username:"hannahbrooks",email:"hannah@user.com",password:"password",isAdmin:!0,bio:"mining by day, making skins by night:)"},k={id:2,createdAt:0,name:"Ian Chan",username:"yanktc",email:"yan@user.com",password:"password",isAdmin:!1,bio:"crafty"},S={id:3,createdAt:0,name:"Someone Else",username:"someone",email:"someone@user.com",password:"password",isAdmin:!1,bio:""},C=(n.p,n.p,[{id:1,user:y,createdAt:0,name:"Super cool Map",file:x,image:g,comments:[]},{id:2,user:S,createdAt:0,name:"Empire map",file:p,image:v,comments:[]}]),w=[{id:3,createdAt:4,image:h,name:"This is my cat",skin2D:[["#fff","ffff","#fff","ffff"],["#fff","ffff","#fff","ffff"],["#fff","ffff","#fff","ffff","#fff","ffff","#fff","ffff"],["#fff","ffff","#fff","ffff","#fff","ffff","#fff","ffff"],["#fff","ffff","#fff","ffff","#fff","ffff","#fff","ffff"],["#fff","ffff","#fff","ffff","#fff","ffff","#fff","ffff"],["#fff","ffff","#fff","ffff"],["#fff","ffff","#fff","ffff"],["#fff","ffff","#fff","ffff"],["#fff","ffff","#fff","ffff"]],user:S,comments:[{createdAt:0,user:y,text:"OMG i love your cat"}]},{id:4,createdAt:5,image:O,name:"Miss Meow Meow",skin2D:[["#fff","ffff","#fff","ffff"],["#fff","ffff","#fff","ffff"],["#fff","ffff","#fff","ffff","#fff","ffff","#fff","ffff"],["#fff","ffff","#fff","ffff","#fff","ffff","#fff","ffff"],["#fff","ffff","#fff","ffff","#fff","ffff","#fff","ffff"],["#fff","ffff","#fff","ffff","#fff","ffff","#fff","ffff"],["#fff","ffff","#fff","ffff"],["#fff","ffff","#fff","ffff"],["#fff","ffff","#fff","ffff"],["#fff","ffff","#fff","ffff"]],user:S,comments:[{createdAt:0,user:y,text:"wow this is awesome!"}]},{id:5,createdAt:6,image:m,name:"This puthy talk",skin2D:[["#fff","ffff","#fff","ffff"],["#fff","ffff","#fff","ffff"],["#fff","ffff","#fff","ffff","#fff","ffff","#fff","ffff"],["#fff","ffff","#fff","ffff","#fff","ffff","#fff","ffff"],["#fff","ffff","#fff","ffff","#fff","ffff","#fff","ffff"],["#fff","ffff","#fff","ffff","#fff","ffff","#fff","ffff"],["#fff","ffff","#fff","ffff"],["#fff","ffff","#fff","ffff"],["#fff","ffff","#fff","ffff"],["#fff","ffff","#fff","ffff"]],user:S,comments:[{createdAt:0,user:y,text:"she talk english spanish and french!"}]}].concat([{id:1,createdAt:0,image:u,name:"The best cat ever",skin2D:[["#fff","ffff","#fff","ffff"],["#fff","ffff","#fff","ffff"],["#fff","ffff","#fff","ffff","#fff","ffff","#fff","ffff"],["#fff","ffff","#fff","ffff","#fff","ffff","#fff","ffff"],["#fff","ffff","#fff","ffff","#fff","ffff","#fff","ffff"],["#fff","ffff","#fff","ffff","#fff","ffff","#fff","ffff"],["#fff","ffff","#fff","ffff"],["#fff","ffff","#fff","ffff"],["#fff","ffff","#fff","ffff"],["#fff","ffff","#fff","ffff"]],user:y,comments:[{createdAt:0,user:S,text:"wow cool cat!"},{createdAt:1,user:S,text:"i hope that cat is okay"}]},{id:2,createdAt:2,image:b,name:"Another cool cat",skin2D:[["#fff","ffff","#fff","ffff"],["#fff","ffff","#fff","ffff"],["#fff","ffff","#fff","ffff","#fff","ffff","#fff","ffff"],["#fff","ffff","#fff","ffff","#fff","ffff","#fff","ffff"],["#fff","ffff","#fff","ffff","#fff","ffff","#fff","ffff"],["#fff","ffff","#fff","ffff","#fff","ffff","#fff","ffff"],["#fff","ffff","#fff","ffff"],["#fff","ffff","#fff","ffff"],["#fff","ffff","#fff","ffff"],["#fff","ffff","#fff","ffff"]],user:y,comments:[{createdAt:0,user:S,text:"Look at that cat go!"},{createdAt:1,user:S,text:"Wow it looks like that cat could use a pet!"}]}]),N=n(35),A=n(389),M=n(377),I=n(168),D=n.n(I),F=n(378),L=n(391),U=n(379),B=n(372),R=n(180),T=n(388),E=n(178),P=n(395),_=(n(197),n(142),n(1));function G(e){var t=e.skin;return Object(_.jsxs)("div",{className:"CardStyle",children:[Object(_.jsx)("div",{className:"cardContainer",children:Object(_.jsx)("img",{src:t.image,alt:t.name,className:"skinImage"})}),Object(_.jsxs)("div",{className:"cardInfo",children:[Object(_.jsx)("div",{className:"skinName",children:t.name}),Object(_.jsxs)("div",{children:["@",t.username]})]})]})}n(199);function J(e){var t=e.map;return Object(_.jsxs)("div",{className:"CardStyle",children:[Object(_.jsx)("div",{className:"cardContainer",children:Object(_.jsx)("img",{src:t.image,alt:t.name,className:"skinImage"})}),Object(_.jsxs)("div",{className:"cardInfo",children:[Object(_.jsx)("div",{className:"skinName",children:t.name}),Object(_.jsxs)("div",{children:["@",t.user.name]})]})]})}function q(e){var t=e.resource;return Object(_.jsxs)("div",{className:"CardStyle",children:[Object(_.jsx)("div",{className:"cardContainer",children:Object(_.jsx)("img",{src:t.image,alt:t.name,className:"skinImage"})}),Object(_.jsxs)("div",{className:"cardInfo",children:[Object(_.jsx)("div",{className:"skinName",children:t.name}),Object(_.jsxs)("div",{children:["@",t.user.username]})]})]})}var V=n(65),H=n.n(V),W=n(99),z={env:"production",api_host:""},Z=z.api_host,K=function(){var e=Object(W.a)(H.a.mark((function e(){var t,n,c=arguments;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:null,n="".concat(Z,"/api/skins"),t&&(n+="?user_id=".concat(t._id)),e.abrupt("return",fetch(n).then((function(e){if(200===e.status)return e.json()})).catch((function(e){return console.log(e),new Promise((function(e){e({skins:[]})}))})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(e){var t="".concat(Z,"/api/skins?image_id=").concat(e);return fetch(t).then((function(e){if(200===e.status)return e.json()})).catch((function(e){return console.log(e),new Promise((function(e){e({skins:[]})}))}))},X=Object(B.a)((function(e){return{root:{flexGrow:1,backgroundColor:"#ffffff",color:"grey",boxShadow:"none",border:"1px solid gainsboro"},tabs:{"& .Mui-selected":{color:"black"},"& .MuiTab-labelIcon":{minHeight:"0px",padding:"15px",margin:"10px 0px"},"& .MuiTouchRipple-root":{color:"green"},"& .MuiTabs-centered":{justifyContent:"space-around"}}}}));function Y(e){var t=e.children,n=e.value,c=e.index,a=Object(N.a)(e,["children","value","index"]);return Object(_.jsx)("div",Object(f.a)(Object(f.a)({role:"tabpanel",hidden:n!==c,id:"wrapped-tabpanel-".concat(c),"aria-labelledby":"wrapped-tab-".concat(c)},a),{},{children:n===c&&Object(_.jsx)(T.a,{p:3,children:Object(_.jsx)(R.a,{children:t})})}))}function $(e){var t=e.allMaps,n=e.allResourcePacks,a=X(),s=Object(c.useState)(0),i=Object(r.a)(s,2),f=i[0],o=i[1],d=Object(c.useState)([]),j=Object(r.a)(d,2),u=j[0],b=j[1],h=Object(c.useState)(n),O=Object(r.a)(h,2),m=O[0],x=O[1],p=Object(c.useState)(null),g=Object(r.a)(p,2),v=g[0],y=g[1],k=Object(c.useState)(!1),S=Object(r.a)(k,2),C=S[0],w=S[1],N=Object(c.useState)([]),I=Object(r.a)(N,2),B=I[0],R=I[1];Object(c.useEffect)((function(){K().then((function(e){w(!0),R(e.skins),b(e.skins)}),(function(e){w(!0)}))}),[C]);var T=function(){y(null)};function V(e){var t=[],c=[];"name"==e?(t=B.sort((function(e,t){return e.name>t.name?1:t.name>e.name?-1:0})),c=n.sort((function(e,t){return e.name>t.name?1:t.name>e.name?-1:0}))):"newest"==e?(t=B.sort((function(e,t){return e.createdAt>t.createdAt?1:t.createdAt>e.createdAt?-1:0})),c=n.sort((function(e,t){return e.createdAt>t.createdAt?1:t.createdAt>e.createdAt?-1:0}))):"oldest"==e?(t=B.sort((function(e,t){return e.createdAt<t.createdAt?1:t.createdAt<e.createdAt?-1:0})),c=n.sort((function(e,t){return e.createdAt<t.createdAt?1:t.createdAt<e.createdAt?-1:0}))):"comments"==e&&(t=B.sort((function(e,t){return e.comments.length>t.comments.length?1:t.comments.length>e.comments.length?-1:0})),c=n.sort((function(e,t){return e.comments.length>t.comments.length?1:t.comments.length>e.comments.length?-1:0}))),b(t),x(c),T()}return C?Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{id:"searchFunctionality",children:[Object(_.jsx)(A.a,{className:"TextFieldStyle",label:"Search",variant:"outlined",onChange:function(e){var t=e.target.value.toLowerCase(),c=B.filter((function(e){return e.name.toLowerCase().includes(t)})),a=n.filter((function(e){return e.name.toLowerCase().includes(t)}));x(a),b(c)}}),Object(_.jsxs)(M.a,{className:"ButtonStyle",onClick:function(e){y(e.currentTarget)},children:["Sort By",Object(_.jsx)(D.a,{className:"icon"})]}),Object(_.jsxs)(E.a,{id:"simple-menu",anchorEl:v,keepMounted:!0,open:Boolean(v),onClose:T,children:[Object(_.jsx)(P.a,{onClick:function(){return V("name")},children:"Name"}),Object(_.jsx)(P.a,{onClick:function(){return V("newest")},children:"Newest"}),Object(_.jsx)(P.a,{onClick:function(){return V("oldest")},children:"Oldest"}),Object(_.jsx)(P.a,{onClick:function(){return V("comments")},children:"Number of Comments"})]})]}),Object(_.jsx)(F.a,{position:"static",className:a.root,children:Object(_.jsxs)(L.a,{value:f,onChange:function(e,t){o(t)},centered:!0,className:a.tabs,TabIndicatorProps:{style:{backgroundColor:"#5b8731"}},children:[Object(_.jsx)(U.a,{label:"Skins"}),Object(_.jsx)(U.a,{label:"Resource Packs"}),Object(_.jsx)(U.a,{label:"Maps"})]})}),Object(_.jsx)(Y,{className:"pb-3 pl-3",value:f,index:0,children:Object(_.jsx)("div",{id:"skinsDisplay",children:u.map((function(e){return Object(_.jsx)(l.b,{to:"/skin/".concat(e._id),children:Object(_.jsx)(G,{skin:e})},"link-".concat(e._id))}))})}),Object(_.jsx)(Y,{className:"pb-3 pl-3",value:f,index:2,children:Object(_.jsx)("div",{id:"skinsDisplay",children:t.map((function(e){return Object(_.jsx)(l.b,{to:"/map/".concat(e.id),children:Object(_.jsx)(J,{map:e})},"link-".concat(e.id))}))})}),Object(_.jsx)(Y,{className:"pb-3 pl-3",value:f,index:1,children:Object(_.jsx)("div",{id:"resourcesDisplay",children:m.map((function(e){return Object(_.jsx)(l.b,{to:"/resource/".concat(e._id),children:Object(_.jsx)(q,{resource:e,id:e._id})},"link-".concat(e._id))}))})})]}):Object(_.jsx)("div",{children:"Loading..."})}var ee=n(64),te=n.n(ee),ne=n(32),ce=n.n(ne),ae=(n(210),Object(B.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"green"},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-input":{color:"green"},"& .MuiInputLabel-outlined.Mui-focused":{color:"green"}}}})));function se(e){var t=e.allResourcePacks,n=e.currUser,a=ae(),s=Object(o.h)().id,i=t.find((function(e){return e.id==s})),f=Object(c.useState)(""),d=Object(r.a)(f,2),j=d[0],u=d[1];return t?Object(_.jsxs)("div",{style:{maxWidth:"1400px"},children:[Object(_.jsxs)("div",{style:{display:"flex"},children:[Object(_.jsx)(l.b,{to:"/",style:{color:"black",alignSelf:"center"},children:Object(_.jsx)(ce.a,{className:"backIcon"})}),Object(_.jsx)("h2",{children:i.name})]}),Object(_.jsxs)("div",{style:{display:"flex"},children:[Object(_.jsx)("div",{id:"threeDView",children:Object(_.jsx)("img",{src:i.image,alt:i.name,className:"skinImage"})}),Object(_.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[Object(_.jsx)("div",{id:"skinInfo",children:Object(_.jsxs)("span",{children:[Object(_.jsx)("text",{children:"Resource Info:"}),Object(_.jsx)("h3",{children:i.name}),Object(_.jsx)("a",{href:i.file,download:!0,style:{textDecoration:"underline"},children:"Download Map"}),Object(_.jsxs)("p",{children:["Resource Pack Created On: ",i.createdAt]})]})}),Object(_.jsx)("div",{id:"userInfo",children:Object(_.jsxs)("span",{children:[Object(_.jsx)("text",{children:"Creator:"}),Object(_.jsx)("h3",{children:i.user.name}),Object(_.jsxs)("h4",{children:["@",i.user.username]}),Object(_.jsx)("p",{children:i.user.bio})]})})]})]}),Object(_.jsxs)("div",{class:"displayFlex",children:[Object(_.jsx)(A.a,{id:"outlined-basic",label:n?"Comment":"Login to comment",disable:!0,variant:"outlined",disabled:!n,className:te()("comment",a.root),onChange:function(e){return u(e.target.value)}}),Object(_.jsx)(M.a,{className:"commentButton",variant:"outlined",onClick:function(){i.comments.push({createdAt:3,user:n,text:j}),u("")},disabled:!n,children:"Post"})]}),Object(_.jsx)("div",{children:i.comments.map((function(e){return Object(_.jsxs)("div",{id:"userComments",children:[e.text,Object(_.jsx)("div",{children:Object(_.jsx)("b",{children:"Comment By: "})})]})}))})]}):Object(_.jsx)("div",{children:"Loading..."})}n(211);var ie=n(53),fe=(n(10),n(171));Object(ie.b)({OrbitControls:fe.a});var re=function(){var e=Object(ie.d)(),t=e.camera,n=e.gl.domElement,a=Object(c.useRef)();return Object(ie.c)((function(e){return a.current.update()})),Object(_.jsx)("orbitControls",{ref:a,args:[t,n],enableZoom:!0})};function le(e){var t=Object(c.useRef)(),n=Object(c.useState)(!1),a=Object(r.a)(n,2),s=a[0],i=a[1],l=Object(c.useState)(e.clr.clr),o=Object(r.a)(l,2),d=o[0],j=o[1];return Object(_.jsxs)("mesh",Object(f.a)(Object(f.a)({},e),{},{ref:t,onClick:function(t){j(e.color),e.clr.clr=e.color},onPointerOver:function(e){return i(!0)},onPointerOut:function(e){return i(!1)},children:[Object(_.jsx)("boxBufferGeometry",{args:[1,1,1]}),Object(_.jsx)("meshStandardMaterial",{color:s?e.color:d,roughness:.1,metalness:.3})]}))}function oe(e){var t=Object(c.useRef)(),n=e.clr.clr;return Object(_.jsxs)("mesh",Object(f.a)(Object(f.a)({},e),{},{ref:t,children:[Object(_.jsx)("boxBufferGeometry",{args:[1,1,1]}),Object(_.jsx)("meshStandardMaterial",{color:n,roughness:.1,metalness:.3})]}))}var de=n(13),je=n(4),ue=n(177),be=n(52),he=n.n(be),Oe=(n(132),n(394)),me=n(381),xe=n(380);n(133),n(320);function pe(){for(var e=[],t=0;t<8;++t)for(var n=0;n<8;++n)if(e.push([t,n,0]),e.push([t,n,7]),0===t||7===t||0===n||7===n)for(var c=1;c<7;++c)e.push([t,n,c]);for(var a=-4;a<12;++a){e.push([a,-1,2]),e.push([a,-1,3]),e.push([a,-1,4]),e.push([a,-1,5]),e.push([a,-12,2]),e.push([a,-12,3]),e.push([a,-12,4]),e.push([a,-12,5]);for(var s=-2;s>-12;--s)e.push([a,s,2]),e.push([a,s,5]),-4!=a&&11!=a||(e.push([a,s,3]),e.push([a,s,4]))}for(var i=0;i<8;++i){for(var f=-13;f>-24;--f)e.push([i,f,2]),e.push([i,f,5]),0!=i&&7!=i||(e.push([i,f,3]),e.push([i,f,4]));e.push([i,-24,2]),e.push([i,-24,3]),e.push([i,-24,4]),e.push([i,-24,5])}return e}var ge=function e(t,n){Object(je.a)(this,e),this.clr=t,this.pos=n};function ve(e){var t=e.handleSnackbarClick,n=e.currUser,a=Object(o.h)().skinId,s=Object(o.g)(),i=Object(c.useState)(null),f=Object(r.a)(i,2),d=f[0],j=f[1],u=Object(c.useState)(!1),b=Object(r.a)(u,2),h=(b[0],b[1],Object(c.useState)(!1)),O=Object(r.a)(h,2),m=O[0],x=O[1],p=Object(c.useState)(""),g=Object(r.a)(p,2),v=g[0],y=g[1],k=Object(c.useState)(""),S=Object(r.a)(k,2),C=S[0],w=S[1],N=Object(c.useState)({name:"new name"}),I=Object(r.a)(N,2),D=I[0],F=I[1],L=Object(c.useState)([]),U=Object(r.a)(L,2),B=U[0],R=U[1];var T=Object(c.useState)(!1),E=Object(r.a)(T,2),P=E[0],G=E[1],J=Object(c.useState)(null),q=Object(r.a)(J,2),V=(q[0],q[1]),H=pe(),W=function(e){for(var t=[],n=0;n<H.length;n++)t.push(new ge(e[n],H[n]));return t};Object(c.useEffect)((function(){a?Q(a).then((function(e){G(!0),R(W(e.skin2D)),F(e)}),(function(e){G(!0),V(e)})):(G(!0),R(W(Array(1036).fill("white"))),F({name:""}))}),[P]);var z,K=function(){x(!1)};return P?Object(_.jsxs)("div",{id:"skinEditView",children:[Object(_.jsxs)(Oe.a,{open:m,onClose:K,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(_.jsx)(xe.a,{id:"alert-dialog-title",children:"Are you sure you want to delete this skin?"}),Object(_.jsxs)(me.a,{children:[Object(_.jsx)(M.a,{onClick:K,color:"primary",children:"Close"}),Object(_.jsx)(M.a,{onClick:function(){},color:"secondary",autoFocus:!0,children:"DELETE"})]})]}),Object(_.jsxs)("div",{class:"displayFlex",children:[Object(_.jsx)(l.b,{to:"/account",style:{color:"black",alignSelf:"center"},children:Object(_.jsx)(ce.a,{className:"backIcon"})}),Object(_.jsx)(A.a,(z={id:"filled-basic"},Object(de.a)(z,"id","textfield"),Object(de.a)(z,"label",D?D.name:"New Skin Name"),Object(de.a)(z,"variant","filled"),Object(de.a)(z,"onChange",(function(e){return y(e.target.value)})),z)),Object(_.jsx)("h2",{style:{display:"none"},children:a})]}),Object(_.jsxs)("div",{class:"displayFlex",children:[Object(_.jsxs)(ie.a,{camera:{position:[20,20,20]},children:[Object(_.jsx)(re,{}),Object(_.jsx)("ambientLight",{intensity:.5}),Object(_.jsx)("spotLight",{position:[100,100,100],angle:.15,penumbra:1}),B.map((function(e){return Object(_.jsx)(le,{color:d,position:e.pos,clr:e})}))]}),Object(_.jsxs)("div",{className:"rightItems",children:[Object(_.jsx)(ue.a,{height:"600px",onChangeComplete:function(e){j(e.hex.toString())}}),Object(_.jsx)(M.a,{className:"ButtonStyle",variant:"outlined",style:{marginTop:"30px"},onClick:function(){var e=B.map((function(e){return e.clr}));a?(D.skin2D=e,""!=v&&(D.name=v),function(e){var t=new Request("".concat(Z,"/api/skin/").concat(e._id),{method:"PATCH",body:JSON.stringify(e),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}});return fetch(t).then((function(e){if(200===e.status)return e.json()}))}(D).then((function(){t({message:"Successfully saved skin",color:"green"}),s.push("/account")}))):""!=v&&null!=C?(console.log(C),function(e){var t=new Request("".concat(Z,"/api/newskin"),{method:"post",body:JSON.stringify(e),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}});fetch(t).then((function(e){if(200===e.status)return e.json()}))}({createdAt:10,image:C,name:v,skin2D:e,username:n.username,user:n._id,comments:[]}),t({message:"New skin successfully saved",color:"green"}),s.push("/account")):t({message:"Not all info for skin included",color:"red"})},children:"Save"}),Object(_.jsx)(M.a,{className:"ButtonStyle",variant:"outlined",onClick:function(){a?x(!0):s.push("/account")},children:D?"Delete":"Cancel"})]})]}),Object(_.jsxs)("div",{style:{marginLeft:"15px",display:"flex"},children:[Object(_.jsx)("div",{style:{width:"500px",filter:"grayscale(100%)"},children:Object(_.jsx)(he.a,{onSubmit:function(e,t){w(URL.createObjectURL(e[0].file)),t.forEach((function(e){return e.remove()}))},maxFiles:1,inputContent:"Drop an cover image, or click to browse",submitButtonDisabled:function(e){return e.length>1},accept:"image/*"})}),Object(_.jsx)("img",{src:D?D.image:C,style:{maxHeight:"115px",marginLeft:"30px",filter:"grayscale(0%)"}})]})]}):Object(_.jsx)("div",{children:"Loading..."})}var ye=Object(B.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"green"},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-input":{color:"green"},"& .MuiInputLabel-outlined.Mui-focused":{color:"green"}}}}));function ke(e){var t=e.currUser,n=ye(),a=Object(o.h)().skinId,s=Object(c.useState)(!1),i=Object(r.a)(s,2),f=i[0],d=i[1],j=Object(c.useState)({name:"new name",comments:[]}),u=Object(r.a)(j,2),b=u[0],h=u[1],O=Object(c.useState)(""),m=Object(r.a)(O,2),x=m[0],p=m[1],g=pe(),v=Object(c.useState)([]),y=Object(r.a)(v,2),k=y[0],S=y[1];return Object(c.useEffect)((function(){Q(a).then((function(e){d(!0),h(e),S(function(e){for(var t=[],n=0;n<g.length;n++)t.push(new ge(e[n],g[n]));return t}(e.skin2D))}),(function(e){d(!0)}))}),[f]),f?Object(_.jsxs)("div",{id:"skinContainer",children:[Object(_.jsxs)("div",{class:"displayFlex",children:[Object(_.jsx)(l.b,{to:"/",id:"backButton",children:Object(_.jsx)(ce.a,{className:"backIcon"})}),Object(_.jsx)("h2",{children:b.name})]}),Object(_.jsxs)("div",{class:"displayFlex",children:[Object(_.jsxs)(ie.a,{camera:{position:[20,20,20]},children:[Object(_.jsx)(re,{}),Object(_.jsx)("ambientLight",{intensity:.5}),Object(_.jsx)("spotLight",{position:[100,100,100],angle:.15,penumbra:1}),k.map((function(e){return Object(_.jsx)(oe,{position:e.pos,clr:e})}))]}),Object(_.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[Object(_.jsx)("div",{id:"skinInfo",children:Object(_.jsxs)("span",{children:[Object(_.jsx)("text",{children:"Skin Info:"}),Object(_.jsx)("h3",{children:b.name}),Object(_.jsx)("img",{src:b.image,alt:b.name,className:"skinImage"}),Object(_.jsxs)("p",{children:["Skin Created On: ",Object(_.jsx)("br",{}),b.createdAt]})]})}),Object(_.jsx)("div",{id:"userInfo",children:Object(_.jsxs)("span",{children:[Object(_.jsx)("text",{children:"Creator:"}),Object(_.jsx)("h3",{children:b.name}),Object(_.jsxs)("h4",{children:["@",b.username]})]})})]})]}),Object(_.jsxs)("div",{class:"displayFlex",children:[Object(_.jsx)(A.a,{id:"outlined-basic",label:t?"Comment":"Login to comment",disable:!0,variant:"outlined",disabled:!t,className:te()("comment",n.root),onChange:function(e){return p(e.target.value)}}),Object(_.jsx)(M.a,{className:"commentButton",variant:"outlined",onClick:function(){t&&(b.comments.push({createdAt:3,username:t.name,text:x}),p(""))},disabled:!t,children:"Post"})]}),Object(_.jsx)("div",{children:b.comments.map((function(e){return Object(_.jsxs)("div",{id:"userComments",children:[e.text,Object(_.jsxs)("div",{children:[Object(_.jsx)("b",{children:"Comment By: "}),e.user.name]})]})}))})]}):Object(_.jsx)("div",{children:"Loading..."})}n(321);var Se=Object(B.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"green"},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-input":{color:"green"},"& .MuiInputLabel-outlined.Mui-focused":{color:"green"}}}}));function Ce(e){var t=e.allMaps,n=e.currUser,a=Se(),s=Object(o.h)().mapId,i=t.find((function(e){return e.id==s})),f=Object(c.useState)(""),d=Object(r.a)(f,2),j=d[0],u=d[1];return Object(_.jsxs)("div",{style:{maxWidth:"1400px"},children:[Object(_.jsxs)("div",{style:{display:"flex"},children:[Object(_.jsx)(l.b,{to:"/",style:{color:"black",alignSelf:"center"},children:Object(_.jsx)(ce.a,{className:"backIcon"})}),Object(_.jsx)("h2",{children:i.name})]}),Object(_.jsxs)("div",{style:{display:"flex"},children:[Object(_.jsx)("div",{id:"threeDView",children:Object(_.jsx)("img",{src:i.image,alt:i.name,className:"skinImage"})}),Object(_.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[Object(_.jsx)("div",{id:"skinInfo",children:Object(_.jsxs)("span",{children:[Object(_.jsx)("text",{children:"Skin Info:"}),Object(_.jsx)("h3",{children:i.name}),Object(_.jsx)("a",{href:i.file,download:!0,style:{textDecoration:"underline"},children:"Download Map"}),Object(_.jsxs)("p",{children:["Skin Created On: ",i.createdAt]})]})}),Object(_.jsx)("div",{id:"userInfo",children:Object(_.jsxs)("span",{children:[Object(_.jsx)("text",{children:"Creator:"}),Object(_.jsx)("h3",{children:i.user.name}),Object(_.jsxs)("h4",{children:["@",i.user.username]}),Object(_.jsx)("p",{children:i.user.bio})]})})]})]}),Object(_.jsxs)("div",{class:"displayFlex",style:{display:"flex"},children:[Object(_.jsx)(A.a,{id:"outlined-basic",label:n?"Comment":"Login to comment",disable:!0,variant:"outlined",disabled:!n,className:te()("comment",a.root),onChange:function(e){return u(e.target.value)}}),Object(_.jsx)(M.a,{className:"commentButton",variant:"outlined",onClick:function(){i.comments.push({createdAt:3,user:n,text:j}),u("")},disabled:!n,children:"Post"})]}),Object(_.jsx)("div",{children:i.comments.map((function(e){return Object(_.jsxs)("div",{id:"userComments",children:[e.text,Object(_.jsxs)("div",{children:[Object(_.jsx)("b",{children:"Comment By: "}),e.user.name]})]})}))})]})}n(322);function we(e){var t=e.allMaps,n=e.handleSnackbarClick,a=e.currUser,s=Object(o.h)().mapId,i=Object(o.g)(),f=t.find((function(e){return e.id==s})),d=Object(c.useState)(null),j=Object(r.a)(d,2),u=(j[0],j[1],Object(c.useState)(!1)),b=Object(r.a)(u,2),h=(b[0],b[1],Object(c.useState)(!1)),O=Object(r.a)(h,2),m=O[0],x=O[1],p=Object(c.useState)(""),g=Object(r.a)(p,2),v=g[0],y=g[1],k=Object(c.useState)(null),S=Object(r.a)(k,2),C=S[0],w=S[1],N=Object(c.useState)(f?f.image:""),I=Object(r.a)(N,2),D=I[0],F=I[1];var L=function(){x(!1)};return Object(_.jsxs)("div",{style:{maxWidth:"1300px"},children:[Object(_.jsxs)(Oe.a,{open:m,onClose:L,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(_.jsx)(xe.a,{id:"alert-dialog-title",children:"Are you sure you want to delete this map?"}),Object(_.jsxs)(me.a,{children:[Object(_.jsx)(M.a,{onClick:L,color:"primary",children:"Close"}),Object(_.jsx)(M.a,{onClick:function(){var e=t.indexOf(f);e>-1&&t.splice(e,1),i.push("/account")},color:"secondary",autoFocus:!0,children:"DELETE"})]})]}),Object(_.jsxs)("div",{style:{display:"flex"},children:[Object(_.jsx)(l.b,{to:"/account",style:{color:"black",alignSelf:"center"},children:Object(_.jsx)(ce.a,{className:"backIcon"})}),Object(_.jsx)(A.a,{id:"filled-basic",style:{width:"900px"},label:f?f.name:"New Map Name",variant:"filled",onChange:function(e){return y(e.target.value)}}),Object(_.jsx)("h2",{style:{display:"none"},children:s})]}),Object(_.jsxs)("div",{style:{display:"flex"},children:[Object(_.jsxs)("div",{id:"threeDView",children:[D&&Object(_.jsx)("img",{src:D,alt:v,className:"skinImage"}),Object(_.jsx)("div",{style:{marginLeft:"15px",display:"flex"},children:Object(_.jsx)("div",{style:{width:"500px",filter:"grayscale(100%)",margin:"15px 0px"},children:Object(_.jsx)(he.a,{onSubmit:function(e,t){F(URL.createObjectURL(e[0].file)),t.forEach((function(e){return e.remove()}))},maxFiles:1,inputContent:"Drop an cover image, or click to browse",submitButtonDisabled:function(e){return e.length>1},accept:"image/*"})})}),Object(_.jsx)("div",{style:{marginLeft:"15px",display:"flex"},children:Object(_.jsx)("div",{style:{width:"500px",filter:"grayscale(100%)"},children:Object(_.jsx)(he.a,{onSubmit:function(e,t){w(URL.createObjectURL(e[0].file)),t.forEach((function(e){return e.remove()}))},maxFiles:1,inputContent:"Drop a zipped map image, or click to browse",submitButtonDisabled:function(e){return e.length>1}})})})]}),Object(_.jsxs)("div",{className:"rightItems",children:[Object(_.jsx)(M.a,{className:"ButtonStyle",variant:"outlined",style:{marginTop:"30px"},onClick:function(){if(f)""!=v&&(f.name=v),null!=f.image&&(f.image=D),null!=f.file&&(f.file=C),n({message:"Successfully saved map",color:"green"}),i.push("/account");else if(""!=v&&null!=C&&null!=D){var e={id:Math.max.apply(Math,t.map((function(e){return e.id})))+1,createdAt:10,image:D,name:v,file:C,user:a,comments:[]};t.push(e),n({message:"New map successfully saved",color:"green"}),i.push("/account")}else n({message:"Not all info for map included",color:"red"})},children:"Save"}),Object(_.jsx)(M.a,{className:"ButtonStyle",variant:"outlined",onClick:function(){f?x(!0):i.push("/account")},children:f?"Delete":"Cancel"}),!f&&!C&&Object(_.jsx)("span",{style:{alignSelf:"center"},children:"No map currently uploaded"}),(f||C)&&Object(_.jsx)("a",{href:C||f.file,download:!0,children:"View Map"})]})]})]})}n(323);function Ne(e){var t=e.allResourcePacks,n=e.handleSnackbarClick,a=e.currUser,s=Object(o.h)().resourceId,i=Object(o.g)(),f=t.find((function(e){return e.id==s})),d=Object(c.useState)(null),j=Object(r.a)(d,2),u=(j[0],j[1],Object(c.useState)(!1)),b=Object(r.a)(u,2),h=(b[0],b[1],Object(c.useState)(!1)),O=Object(r.a)(h,2),m=O[0],x=O[1],p=Object(c.useState)(""),g=Object(r.a)(p,2),v=g[0],y=g[1],k=Object(c.useState)(null),S=Object(r.a)(k,2),C=S[0],w=S[1],N=Object(c.useState)(f?f.image:""),I=Object(r.a)(N,2),D=I[0],F=I[1];var L=function(){x(!1)};return Object(_.jsxs)("div",{style:{maxWidth:"1300px"},children:[Object(_.jsxs)(Oe.a,{open:m,onClose:L,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(_.jsx)(xe.a,{id:"alert-dialog-title",children:"Are you sure you want to delete this map?"}),Object(_.jsxs)(me.a,{children:[Object(_.jsx)(M.a,{onClick:L,color:"primary",children:"Close"}),Object(_.jsx)(M.a,{onClick:function(){var e=t.indexOf(f);e>-1&&t.splice(e,1),i.push("/account")},color:"secondary",autoFocus:!0,children:"DELETE"})]})]}),Object(_.jsxs)("div",{style:{display:"flex"},children:[Object(_.jsx)(l.b,{to:"/account",style:{color:"black",alignSelf:"center"},children:Object(_.jsx)(ce.a,{className:"backIcon"})}),Object(_.jsx)(A.a,{id:"filled-basic",style:{width:"900px"},label:f?f.name:"New Resource Name",variant:"filled",onChange:function(e){return y(e.target.value)}}),Object(_.jsx)("h2",{style:{display:"none"},children:s})]}),Object(_.jsxs)("div",{style:{display:"flex"},children:[Object(_.jsxs)("div",{id:"threeDView",children:[D&&Object(_.jsx)("img",{src:D,alt:v,className:"skinImage"}),Object(_.jsx)("div",{style:{marginLeft:"15px",display:"flex"},children:Object(_.jsx)("div",{style:{width:"500px",filter:"grayscale(100%)",margin:"15px 0px"},children:Object(_.jsx)(he.a,{onSubmit:function(e,t){F(URL.createObjectURL(e[0].file)),t.forEach((function(e){return e.remove()}))},maxFiles:1,inputContent:"Drop an cover image, or click to browse",submitButtonDisabled:function(e){return e.length>1},accept:"image/*"})})}),Object(_.jsx)("div",{style:{marginLeft:"15px",display:"flex"},children:Object(_.jsx)("div",{style:{width:"500px",filter:"grayscale(100%)"},children:Object(_.jsx)(he.a,{onSubmit:function(e,t){w(URL.createObjectURL(e[0].file)),t.forEach((function(e){return e.remove()}))},maxFiles:1,inputContent:"Drop a zipped map image, or click to browse",submitButtonDisabled:function(e){return e.length>1}})})})]}),Object(_.jsxs)("div",{className:"rightItems",children:[Object(_.jsx)(M.a,{className:"ButtonStyle",variant:"outlined",style:{marginTop:"30px"},onClick:function(){if(f)""!=v&&(f.name=v),null!=f.image&&(f.image=D),null!=f.file&&(f.file=C),n({message:"Successfully saved resource",color:"green"}),i.push("/account");else if(""!=v&&null!=C&&null!=D){var e={id:Math.max.apply(Math,t.map((function(e){return e.id})))+1,createdAt:10,image:D,name:v,file:C,user:a,comments:[]};t.push(e),n({message:"New resource successfully saved",color:"green"}),i.push("/account")}else n({message:"Not all info for resource included",color:"red"})},children:"Save"}),Object(_.jsx)(M.a,{className:"ButtonStyle",variant:"outlined",onClick:function(){f?x(!0):i.push("/account")},children:f?"Delete":"Cancel"}),!f&&!C&&Object(_.jsx)("span",{style:{alignSelf:"center"},children:"No resource currently uploaded"}),(f||C)&&Object(_.jsx)("a",{href:C||f.file,download:!0,children:"View Resource"})]})]})]})}var Ae=n(375),Me=n(176),Ie=n.n(Me),De=n(108),Fe=n.n(De),Le=(n(324),z.api_host);function Ue(e){var t=e.currUser,n=e.allUsers,a=e.handleSnackbarClick,s=e.allMaps,i=e.allResourcePacks,f=e.setCurrUser,o=Object(c.useState)("Account Settings"),d=Object(r.a)(o,2),j=d[0],u=d[1],b=Object(c.useState)(!1),h=Object(r.a)(b,2),O=h[0],m=h[1],x=Object(c.useState)(null),p=Object(r.a)(x,2),g=p[0],v=p[1],y=Object(c.useState)(""),k=Object(r.a)(y,2),S=k[0],C=k[1],w=Object(c.useState)(""),N=Object(r.a)(w,2),I=N[0],D=N[1],F=Object(c.useState)(""),L=Object(r.a)(F,2),U=L[0],B=L[1],R=Object(c.useState)(""),T=Object(r.a)(R,2),E=T[0],P=T[1],J=Object(c.useState)(""),q=Object(r.a)(J,2),V=q[0],H=q[1],W=function(){m(!1)};function z(){var e=Object(c.useState)(null),n=Object(r.a)(e,2),a=n[0],s=n[1],i=Object(c.useState)(!1),f=Object(r.a)(i,2),o=f[0],d=f[1],j=Object(c.useState)([]),u=Object(r.a)(j,2),b=u[0],h=u[1];return Object(c.useEffect)((function(){K(t).then((function(e){d(!0),h(e.skins)}),(function(e){d(!0),s(e)}))}),[]),a?Object(_.jsxs)("div",{children:["Error: ",a.message]}):o?b.map((function(e){return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)(l.b,{to:"/skin/edit/".concat(e._id),children:Object(_.jsx)(G,{skin:e,id:e._id},e._id)},"link-".concat(e._id))})})):Object(_.jsx)("div",{children:"Loading..."})}return Object(_.jsxs)("div",{children:[Object(_.jsxs)(Oe.a,{open:O,onClose:W,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(_.jsx)(xe.a,{id:"alert-dialog-title",children:"Are you sure you want to delete this user?"}),Object(_.jsxs)(me.a,{children:[Object(_.jsx)(M.a,{onClick:W,color:"primary",children:"Close"}),Object(_.jsx)(M.a,{onClick:function(){!function(e){var t=new Request("".concat(Le,"/api/users/").concat(e.id),{method:"delete",body:{},headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}});fetch(t).then((function(e){if(200===e.status)return e.json()})).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}(g),W()},color:"secondary",autoFocus:!0,children:"DELETE"})]})]}),Object(_.jsx)("div",{className:"drawer",children:Object(_.jsx)("div",{id:"settings",scroll:"no",children:t.isAdmin?Object(_.jsx)(_.Fragment,{children:["Account Settings","My Skins","My Maps","My Textures","Admin Settings"].map((function(e,t){return Object(_.jsx)("div",{className:"listItem",onClick:function(){return u(e)},children:e},t)}))}):Object(_.jsx)(_.Fragment,{children:["Account Settings","My Maps","My Skins","My Textures"].map((function(e,t){return Object(_.jsx)("div",{className:"listItem",onClick:function(){return u(e)},children:e},t)}))})})}),Object(_.jsxs)("div",{id:"main",children:["Account Settings"===j&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("h2",{children:"Username"}),Object(_.jsx)(Ae.a,{className:"mediumInput",placeholder:t.username,onChange:function(e){return C(e.target.value)}}),Object(_.jsx)("h2",{children:"Change Password"}),Object(_.jsx)(A.a,{className:"TextFieldStyle",label:"Old Password",variant:"outlined",onChange:function(e){return B(e.target.value)},style:{marginBottom:"10px"}}),Object(_.jsx)(A.a,{className:"TextFieldStyle",label:"New Password",variant:"outlined",onChange:function(e){return D(e.target.value)}}),Object(_.jsx)("h2",{children:"Bio"}),Object(_.jsx)(Ae.a,{className:"fullInput",multiline:!0,placeholder:t.bio,onChange:function(e){return P(e.target.value)}}),Object(_.jsx)("h2",{children:"Email"}),Object(_.jsx)(Ae.a,{className:"mediumInput",placeholder:t.email,onChange:function(e){return H(e.target.value)}}),Object(_.jsx)("div",{children:Object(_.jsx)(M.a,{id:"saveChanges",variant:"outlined",onClick:function(){var e=!0,c=!0,s=!0,i=t;if(""!=S&&n.find((function(e){return e.username==S}))&&(a({message:"User with this username exists",color:"red"}),e=!1),""!=I&&""!=U&&U!=t.password&&(a({message:"Passwords don't match",color:"red"}),c=!1),""!=E&&(i.bio=E),""!=V){/\S+@\S+\.\S+/.test(V)||(a({message:"Email is incorrect format",color:"red"}),s=!1)}e&&c&&s&&(e&&""!=S&&(i.username=S),c&&""!=I&&(i.password=I),""!=E&&(i.bio=E),""!=V&&(i.email=V),function(e,t){console.log(e);var n=new Request("".concat(Le,"/api/users/").concat(e.id),{method:"patch",body:JSON.stringify(e),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}});fetch(n).then((function(e){if(200===e.status)return e.json()})).then((function(e){t(e)})).catch((function(e){console.log(e)}))}(i,f),a({message:"Successfully saved changes",color:"green"}))},children:"Save Changes"})})]}),"My Maps"===j&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(l.b,{to:"/newmap",children:Object(_.jsxs)("div",{className:"newSkinButton",children:[Object(_.jsx)(Fe.a,{style:{marginRight:"10px"}}),Object(_.jsx)("div",{children:"Add a New Map"})]})},"link-newskin"),Object(_.jsx)("div",{id:"skinsDisplay",children:s.map((function(e){return Object(_.jsx)(_.Fragment,{children:e.user.id==t.id&&Object(_.jsx)(l.b,{to:"/map/edit/".concat(e.id),children:Object(_.jsx)(G,{skin:e})},"link-".concat(e.id))})}))})]}),"My Skins"===j&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(l.b,{to:"/newskin",children:Object(_.jsxs)("div",{className:"newSkinButton",children:[Object(_.jsx)(Fe.a,{style:{marginRight:"10px"}}),Object(_.jsx)("div",{children:"Add a New Skin"})]})},"link-newskin"),Object(_.jsx)("div",{id:"skinsDisplay",children:Object(_.jsx)(z,{})})]}),"My Textures"===j&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(l.b,{to:"/newresource",children:Object(_.jsxs)("div",{className:"newSkinButton",children:[Object(_.jsx)(Fe.a,{style:{marginRight:"10px"}}),Object(_.jsx)("div",{children:"Add a New Texture"})]})},"link-newskin"),Object(_.jsx)("div",{id:"skinsDisplay",children:i.map((function(e){return Object(_.jsx)(_.Fragment,{children:e.user.id==t.id&&Object(_.jsx)(l.b,{to:"/resource/edit/".concat(e.id),children:Object(_.jsx)(G,{skin:e})},"link-".concat(e.id))})}))})]}),t.isAdmin&&"Admin Settings"===j&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("h2",{children:"Remove Users"}),Object(_.jsx)("div",{children:n.map((function(e,t){return Object(_.jsxs)("div",{className:"deleteUser",children:[e.username,Object(_.jsx)(Ie.a,{style:{cursor:"pointer"},onClick:function(){return function(e){v(e),m(!0)}(e)}})]},t)}))})]})]})]})}var Be=n(384),Re=n(382),Te=n(383),Ee=n(385);n(325);function Pe(e){var t=e.children,n=e.window,c=Object(Re.a)({target:n?n():void 0});return Object(_.jsx)(Te.a,{appear:!1,direction:"down",in:!c,children:t})}function _e(e){var t=e.currUser,n=e.handleClickOpen;return Object(_.jsxs)(c.Fragment,{children:[Object(_.jsx)(Pe,Object(f.a)(Object(f.a)({},e),{},{children:Object(_.jsx)(F.a,{className:"AppBarStyle",children:Object(_.jsxs)(Be.a,{children:[Object(_.jsx)(l.b,{to:"/",className:"title",children:Object(_.jsx)("h2",{children:"SkinPixel"})}),t&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(l.b,{to:"/account",style:{textDecoration:"none"},children:Object(_.jsx)(M.a,{className:"AppBarButton",children:"Account"})}),Object(_.jsx)(Ee.a,{orientation:"vertical",flexItem:!0,className:"AppBarDivider"})]}),Object(_.jsx)(M.a,{className:"AppBarButton",onClick:n,children:t?Object(_.jsx)(_.Fragment,{children:"Sign Out"}):Object(_.jsx)(_.Fragment,{children:"Sign In"})})]})})})),Object(_.jsx)(Be.a,{})]})}var Ge=n(386),Je=n(387);n(326);function qe(e){var t=e.open,n=e.handleClose,a=e.setCurrUser,s=(e.allUsers,e.handleSnackbarClick),i=Object(c.useState)(null),f=Object(r.a)(i,2),l=f[0],o=f[1],d=Object(c.useState)(null),j=Object(r.a)(d,2),u=j[0],b=j[1];return Object(_.jsxs)(Oe.a,{open:t,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(_.jsx)(xe.a,{id:"alert-dialog-title",children:"Sign In"}),Object(_.jsxs)(Ge.a,{children:[Object(_.jsx)(Je.a,{id:"alert-dialog-description",children:"Sign in for more functionality."}),Object(_.jsx)(A.a,{className:"TextFieldStyle",label:"Username",variant:"outlined",style:{marginBottom:"10px"},onChange:function(e){/\S+/.test(e.target.value)&&(o(e.target.value),s({message:"Nice Username",color:"green"}))}}),Object(_.jsx)(A.a,{className:"TextFieldStyle",label:"Password",variant:"outlined",onChange:function(e){b(e.target.value)}})]}),Object(_.jsxs)(me.a,{children:[Object(_.jsx)(M.a,{onClick:function(){var e={username:l,password:u};!function(e,t){var n=new Request("".concat(Le,"/users/login"),{method:"post",body:JSON.stringify(e),headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}});fetch(n).then((function(e){if(200===e.status)return e.json()})).then((function(e){void 0!==e&&t(e)})).catch((function(e){console.log(e)}))}(e,a),s(e?{message:"Success logging in!",color:"green"}:{message:"Error logging in",color:"red"}),n()},color:"primary",autoFocus:!0,children:"Log In"}),Object(_.jsx)(M.a,{onClick:n,color:"primary",autoFocus:!0,children:"Close"})]})]})}var Ve=z.api_host;function He(){var e=Object(c.useState)(null),t=Object(r.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(!1),i=Object(r.a)(s,2),u=i[0],b=i[1],h=Object(c.useState)(null),O=Object(r.a)(h,2),m=O[0],x=O[1],p=Object(c.useState)(null),g=Object(r.a)(p,2),v=g[0],y=g[1],k=Object(c.useState)(!1),S=Object(r.a)(k,2);S[0],S[1];Object(c.useEffect)((function(){!function(e){var t=new Request("".concat(Le,"/api/users"),{method:"get",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}});fetch(t).then((function(e){if(200===e.status)return e.json()})).then((function(t){e(t)})).catch((function(e){console.log(e)}))}(x)}),[]),Object(c.useEffect)((function(){!function(e){var t=new Request("".concat(Ve,"/api/resource"),{method:"get",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"}});fetch(t).then((function(e){if(200===e.status)return e.json()})).then((function(t){e(t)})).catch((function(e){console.log(e)}))}(y)}),[]);var N=Object(c.useState)({open:!1,message:"",color:"black"}),A=Object(r.a)(N,2),M=A[0],I=A[1],D=function(e){I(Object(f.a)({open:!0},e))},F=function(e,t){"clickaway"!==t&&I(Object(f.a)(Object(f.a)({},M),{},{open:!1}))};return v?Object(_.jsxs)(d.b,{injectFirst:!0,children:[Object(_.jsx)(qe,{open:u,handleClose:function(){b(!1)},allUsers:m,setCurrUser:a,handleSnackbarClick:D,handleSnackbarClose:F}),Object(_.jsx)(l.a,{children:Object(_.jsxs)("div",{children:[Object(_.jsx)(_e,{currUser:n,handleClickOpen:function(){n?function(e){var t="".concat(Le,"/users/logout");fetch(t).then((function(t){e(null)})).catch((function(e){console.log(e)}))}(a):b(!0)}}),Object(_.jsxs)("content",{children:[Object(_.jsx)(j.a,{open:M.open,message:M.message,autoHideDuration:3e3,onClose:F,ContentProps:{style:{backgroundColor:M.color}}}),Object(_.jsxs)(o.d,{children:[Object(_.jsx)(o.b,{exact:!0,path:"/",children:Object(_.jsx)($,{allUsers:m,allSkins:w,allMaps:C,allResourcePacks:v})}),Object(_.jsx)(o.b,{exact:!0,path:"/map/:mapId",children:Object(_.jsx)(Ce,{allMaps:C,currUser:n})}),Object(_.jsx)(o.b,{exact:!0,path:"/resource/:resourceId",children:Object(_.jsx)(se,{allResourcePacks:v,currUser:n})}),Object(_.jsx)(o.b,{exact:!0,path:"/skin/:skinId",children:Object(_.jsx)(ke,{allSkins:w,currUser:n})}),Object(_.jsx)(o.b,{exact:!0,path:"/skin/edit/:skinId",children:Object(_.jsx)(ve,{handleSnackbarClick:D,currUser:n})}),Object(_.jsx)(o.b,{exact:!0,path:"/newskin",children:Object(_.jsx)(ve,{handleSnackbarClick:D,currUser:n})}),Object(_.jsx)(o.b,{exact:!0,path:"/newresource",children:Object(_.jsx)(Ne,{allResourcePacks:v,handleSnackbarClick:D,currUser:n})}),Object(_.jsx)(o.b,{exact:!0,path:"/newmap",children:Object(_.jsx)(we,{allMaps:C,handleSnackbarClick:D,currUser:n})}),n?Object(_.jsx)(o.b,{exact:!0,path:"/account",children:Object(_.jsx)(Ue,{currUser:n,allUsers:m,allMaps:C,allResourcePacks:v,handleSnackbarClick:D,setCurrUser:a})}):Object(_.jsx)(o.a,{exact:!0,to:"/",allUsers:m,allSkins:w,allMaps:C})]})]})]})})]}):Object(_.jsx)("div",{children:"Loading..."})}var We=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,397)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))};i.a.render(Object(_.jsx)(a.a.StrictMode,{children:Object(_.jsx)(He,{})}),document.getElementById("root")),We()}},[[327,1,2]]]);
//# sourceMappingURL=main.da1b919e.chunk.js.map